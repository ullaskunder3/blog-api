---
title: "How to Reset Your PostgreSQL Password on Windows (2025)"
subtitle: ""
id: 22
date: "2025-09-24"
tag:
  - PostgreSQL
  - PostgreSQL Password Reset
  - PostgreSQL Windows
  - Reset Database Password
  - Postgres Security
  - Database Administration
  - psql Tutorial
  - PowerShell PostgreSQL
  - PostgreSQL 17
---

# üìù README: Resetting PostgreSQL Password on Windows (PostgreSQL 17.x)

## üìö Purpose

This guide is for students or developers who **forgot their PostgreSQL `postgres` user password** on Windows, and want to reset it quickly and cleanly **without reinstalling PostgreSQL**.

## üß† What You'll Learn

- How to locate the `pg_hba.conf` file
- How to open it in VS Code or Notepad from terminal
- How to temporarily disable password authentication
- How to reset the password from `psql`
- How to revert security settings

## üêò Requirements

- PostgreSQL installed (e.g. 17.x)
- Admin access to your PC
- PowerShell or Command Prompt
- Optional: VS Code installed

## üß© Bonus: Add PostgreSQL to PATH (Optional)

Add this to system environment variables:

```plaintext
C:\Program Files\PostgreSQL\17\bin
```

Then restart your terminal to use `psql` from anywhere.

## üöÄ Step-by-Step Guide

### 1Ô∏è‚É£ Open PowerShell as Admin

> üîç Press `Win`, search for `PowerShell`, then right-click ‚Üí **Run as Administrator**

### 2Ô∏è‚É£ Locate Your PostgreSQL Data Directory

Run this command to check default install path:

```powershell
cd "C:\Program Files\PostgreSQL\17\data"
```

If you're not sure where PostgreSQL is installed:

- Open **Services** (`services.msc`)
- Find your PostgreSQL service (e.g. `postgresql-x64-17`)
- Right-click ‚Üí **Properties**
- Look at **Path to executable** ‚Äî it will include the `data` directory path

### 3Ô∏è‚É£ Open `pg_hba.conf` in a Text Editor

#### Option A: Using Notepad

```powershell
notepad .\pg_hba.conf
```

#### Option B: Using VS Code (if installed)

```powershell
code .\pg_hba.conf
```

### 4Ô∏è‚É£ Temporarily Allow Passwordless Login

Inside `pg_hba.conf`, **change all `scram-sha-256` to `trust`** like this:

```conf
local   all             all                                     trust
host    all             all             127.0.0.1/32            trust
host    all             all             ::1/128                 trust

local   replication     all                                     trust
host    replication     all             127.0.0.1/32            trust
host    replication     all             ::1/128                 trust
```

üíæ **Save the file and close the editor**

### 5Ô∏è‚É£ Restart PostgreSQL

```powershell
Restart-Service -Name postgresql-x64-17
```

### 6Ô∏è‚É£ Connect to PostgreSQL Without a Password

```powershell
psql -U postgres -d postgres
```

You‚Äôll enter `psql` without being asked for a password.

### 7Ô∏è‚É£ Reset the Password

Inside the `psql` prompt (`postgres=#`), run:

```sql
ALTER ROLE postgres WITH PASSWORD 'YourNewStrongPassword';
```

Replace `'YourNewStrongPassword'` with something secure.

### 8Ô∏è‚É£ Restore Authentication to `scram-sha-256`

Edit `pg_hba.conf` again and revert changes:

```conf
local   all             all                                     scram-sha-256
host    all             all             127.0.0.1/32            scram-sha-256
host    all             all             ::1/128                 scram-sha-256

local   replication     all                                     scram-sha-256
host    replication     all             127.0.0.1/32            scram-sha-256
host    replication     all             ::1/128                 scram-sha-256
```

üíæ Save and close.

### 9Ô∏è‚É£ Restart PostgreSQL Again

```powershell
Restart-Service -Name postgresql-x64-17
```

### üîü Final Test

Try logging in again:

```powershell
psql -U postgres -d postgres
```

‚úÖ You‚Äôll be prompted for a password ‚Äî use the new one you set. You're back in!

## üßº Tips for Clean Setup

- Store passwords securely in a password manager
- Don't leave `pg_hba.conf` in `trust` mode for long ‚Äî it's insecure
- Use a `.env` file for apps connecting to PostgreSQL instead of hardcoding passwords

## üß∞ Optional: VS Code Integration

If you're using VS Code:

- Open the data folder directly:

  ```powershell
  code "C:\Program Files\PostgreSQL\17\data"
  ```

- Install SQL extensions in VS Code to make editing SQL scripts easier

## üÜò Troubleshooting

| Problem                                | Solution                                                          |
| -------------------------------------- | ----------------------------------------------------------------- |
| `psql: password authentication failed` | Password is wrong or `pg_hba.conf` still requires `scram-sha-256` |
| `psql not recognized`                  | Make sure PostgreSQL's `bin` folder is in your system PATH        |
| "Connection refused"                   | PostgreSQL service is not running ‚Äî restart it                    |
